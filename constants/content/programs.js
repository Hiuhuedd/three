// export const ProgramsArray = [
//     {
//       programCode: "D33",
//       programName: "Bachelor of Commerce (B.Com) - Human Resource Management Option",
//       Level: "Bachelor's degree",
//       Department: "Commerce",
//       ProgramUnits: {
//         year1: {
//           semester1: [
//             { unitCode: "UCU100", unitName: "Communication Skills" },
//             { unitCode: "BAC100", unitName: "Fundamentals of Accounting I" },
//             { unitCode: "UCU103", unitName: "Introduction to Critical Creative Thinking" },
//             { unitCode: "BBA100", unitName: "Business Studies" },
//             { unitCode: "BMS100", unitName: "Management Mathematics I" },
//             { unitCode: "BMS101", unitName: "Introduction to Insurance" },
//             { unitCode: "EET100", unitName: "Microeconomics Theory I" },
//           ],
//           semester2: [
//             { unitCode: "UCU101", unitName: "Development Studies" },
//             { unitCode: "BAC101", unitName: "Fundamentals of Accounting II" },
//             { unitCode: "BBA101", unitName: "Business Law I" },
//             { unitCode: "BBA102", unitName: "Principles of Management" },
//             { unitCode: "BMS200", unitName: "Business Statistics I" },
//             { unitCode: "BMS201", unitName: "Computer Programming" },
//             { unitCode: "EET101", unitName: "Macroeconomics Theory II" },
//           ],
//           semester3: [
//             { unitCode: "BAC200", unitName: "Accounting for Assets" },
//             { unitCode: "BAC203", unitName: "Business Finance I" },
//             { unitCode: "BBA200", unitName: "Organization Behaviour" },
//             { unitCode: "BMS102", unitName: "Management Mathematics II" },
//             { unitCode: "EET200", unitName: "Microeconomics Theory I" },
//           ],
//         },
//         year2: {
//           semester1: [
//             { unitCode: "BAC201", unitName: "Accounting for Liabilities and Equities" },
//             { unitCode: "BAC202", unitName: "Cost Accounting I" },
//             { unitCode: "BAC204", unitName: "Business Finance II" },
//             { unitCode: "BBA201", unitName: "Principles of Marketing" },
//             { unitCode: "BMS202", unitName: "Risk Management" },
//             { unitCode: "EET201", unitName: "Macroeconomic Theory II" },
//           ],
//           semester2: [
//             { unitCode: "BAC300", unitName: "Management Accounting I" },
//             { unitCode: "BBA300", unitName: "Organization Theory" },
//             { unitCode: "BBA301", unitName: "Human Resource Management I" },
//             { unitCode: "BBA308", unitName: "Human Resource Management II" },
//             { unitCode: "BBA309", unitName: "Employee Training and Development" },
//             { unitCode: "BBA320", unitName: "Recruiting and Staffing" },
//             { unitCode: "EAE304", unitName: "Labour Economics" },
//           ],
//           semester3: [
//             // Add units for the third semester of year 2
//           ],
//         },
//         year3: {
//           semester1: [
//             // Add units for the first semester of year 3
//           ],
//           semester2: [
//             // Add units for the second semester of year 3
//           ],
//           semester3: [
//             // Add units for the third semester of year 3
//           ],
//         },
//         year4: {
//           semester1: [
//             // Add units for the first semester of year 4
//           ],
//           semester2: [
//             // Add units for the second semester of year 4
//           ],
//           semester3: [
//             // Add units for the third semester of year 4
//           ],
//         },
//       },
//     },
//     // Add 20 more program objects with randomized data below
//     {
//       programCode: "A12",
//       programName: "Bachelor of Science (B.Sc) - Computer Science",
//       Level: "Bachelor's degree",
//       Department: "Computer Science",
//       ProgramUnits: {
//         year1: {
//           semester1: [
//             { unitCode: "CSC 100", unitName: "Introduction to Programming" },
//             { unitCode: "MAT 101", unitName: "Mathematics I" },
//             { unitCode: "PHY 100", unitName: "Physics I" },
//             { unitCode: "ENG 101", unitName: "English Composition" },
//           ],
//           semester2: [
//             { unitCode: "CSC 102", unitName: "Data Structures" },
//             { unitCode: "MAT 102", unitName: "Mathematics II" },
//             { unitCode: "PHY 101", unitName: "Physics II" },
//             { unitCode: "ENG 102", unitName: "Technical Writing" },
//           ],
//           semester3: [
//             { unitCode: "CSC 201", unitName: "Algorithms" },
//             { unitCode: "MAT 201", unitName: "Mathematics III" },
//             { unitCode: "CSC 203", unitName: "Operating Systems" },
//             { unitCode: "ENG 203", unitName: "Professional Communication" },
//           ],
//         },
//         year2: {
//           semester1: [
//             { unitCode: "CSC 205", unitName: "Database Management Systems" },
//             { unitCode: "CSC 206", unitName: "Computer Networks" },
//             { unitCode: "CSC 208", unitName: "Software Engineering" },
//             { unitCode: "ENG 205", unitName: "Public Speaking" },
//           ],
//           semester2: [
//             { unitCode: "CSC 210", unitName: "Web Development" },
//             { unitCode: "CSC 212", unitName: "Artificial Intelligence" },
//             { unitCode: "CSC 214", unitName: "Computer Graphics" },
//             { unitCode: "ENG 207", unitName: "Business Communication" },
//           ],
//           semester3: [
//             // Add units for the third semester of year 2
//           ],
//         },
//         year3: {
//           semester1: [
//             // Add units for the first semester of year 3
//           ],
//           semester2: [
//             // Add units for the second semester of year 3
//           ],
//           semester3: [
//             // Add units for the third semester of year 3
//           ],
//         },
//         year4: {
//           semester1: [
//             // Add units for the first semester of year 4
//           ],
//           semester2: [
//             // Add units for the second semester of year 4
//           ],
//           semester3: [
//             // Add units for the third semester of year 4
//           ],
//         },
//       },
//     },
//     {
//         programCode: "M45",
//         programName: "Bachelor of Arts (B.A) - English Literature",
//         Level: "Bachelor's degree",
//         Department: "English",
//       },
  
//       {
//         programCode: "M24",
//         programName: "Master of Business Administration (MBA) - Finance",
//         Level: "Master's degree",
//         Department: "Business Administration"
//       },
//       {
//         programCode: "E11",
//         programName: "Bachelor of Engineering (B.Eng) - Civil Engineering",
//         Level: "Bachelor's degree",
//         Department: "Civil Engineering"
//       },
//       {
//         programCode: "N56",
//         programName: "Bachelor of Nursing (B.N) - Pediatric Nursing",
//         Level: "Bachelor's degree",
//         Department: "Nursing"
//       },
//       {
//         programCode: "S78",
//         programName: "Bachelor of Engineering (B.Eng) - Civil Engineering",
//         Level: "Bachelor's degree",
//         Department: "Civil Engineering",
//       },
//       {
//         programCode: "N89",
//         programName: "Bachelor of Medicine and Bachelor of Surgery (MBBS)",
//         Level: "Bachelor's degree",
//         Department: "Medical Science",
//       },
//       // Add more program objects here...
//       {
//         programCode: "P67",
//         programName: "Bachelor of Science (B.Sc) - Psychology",
//         Level: "Bachelor's degree",
//         Department: "Psychology",
//       },
//       {
//         programCode: "B34",
//         programName: "Bachelor of Business Administration (BBA)",
//         Level: "Bachelor's degree",
//         Department: "Business Administration",
//       },
//       {
//         programCode: "C56",
//         programName: "Bachelor of Education (B.Ed) - Elementary Education",
//         Level: "Bachelor's degree",
//         Department: "Education",
//       },
//       {
//         programCode: "H90",
//         programName: "Bachelor of Fine Arts (BFA) - Graphic Design",
//         Level: "Bachelor's degree",
//         Department: "Fine Arts",
//       },
//       {
//         programCode: "J23",
//         programName: "Bachelor of Science (B.Sc) - Biology",
//         Level: "Bachelor's degree",
//         Department: "Biology",
//       },
//   ];
import { getFirestore, collection, getDocs,getDoc,doc } from 'firebase/firestore';

export const ProgramsArray = async () => {
  try {
    const db = getFirestore();
    const querySnapshot = await getDocs(collection(db, 'programs'));

    const collectionData = querySnapshot.docs.map((doc) => ({
      id: doc.id,
      ...doc.data(),
    }));
    if(collectionData){
      return collectionData;

    }else{
      return[]
    }
    // console.log(collectionData,collectionData.length);
  } catch (error) {
    // Handle any errors that may occur during the retrieval process
    console.error('Error retrieving prog data:', error);
    return null;
  }
};

export const UnitsArray = async () => {
  try {
    const db = getFirestore();
    const querySnapshot = await getDocs(collection(db, 'units'));

    const collectionData = querySnapshot.docs.map((doc) => ({
      id: doc.id,
      ...doc.data(),
    }));
    
    return collectionData;
  } catch (error) {
    // Handle any errors that may occur during the retrieval process
    console.error('Error retrieving prog data:', error);
    return null;
  }
};
export const getTimetableFromFirestore = async (user) => {
  try {
    const db = getFirestore();
    const usersCollection = collection(db, 'timetables');
    const refNo=`${user.ProgramId}${user.Year}`

    const userDocRef = doc(usersCollection, refNo);

    // Get the user document using the userDocRef
    const userDocSnapshot = await getDoc(userDocRef);

    // Check if the user document exists
    if (userDocSnapshot.exists()) {
      
      
    const timetable = userDocSnapshot.data();
    return timetable
  } else {
   
    
     
      return false;
    }
  } catch (error) {
    // Handle any errors that may occur during the retrieval process
    console.error('Error retrieving timetable user data:', error);
    return false;
  }
};
